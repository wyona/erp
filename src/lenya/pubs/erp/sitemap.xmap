<?xml version="1.0"?>

<map:sitemap xmlns:map="http://apache.org/cocoon/sitemap/1.0">

  <map:components>
    <map:generators default="file">
      <map:generator logger="sitemap.generator.traversable" name="traversable" src="org.apache.cocoon.generation.TraversableGenerator"/>
    </map:generators>
  </map:components>

  <map:pipelines>
    <map:pipeline>
      <map:match pattern="authoring/">
        <map:redirect-to uri="index.html"/>
      </map:match>
    </map:pipeline>

    <map:pipeline>
      <map:match pattern="*/index.html">
        <map:generate src="index.xhtml"/>
        <map:serialize type="xhtml"/>
      </map:match>
    </map:pipeline>

    <map:pipeline>
      <map:match pattern="*/erp.xtm">
        <map:generate src="erp.xtm"/>
        <map:serialize type="xml"/>
      </map:match>
    </map:pipeline>

    <map:pipeline>
      <map:match pattern="*/tasks/introspection.xml">
        <map:generate src="introspection-tasks.xml"/>
        <map:serialize type="xml"/>
      </map:match>
    </map:pipeline>

    <map:pipeline>
      <map:match pattern="**">
        <map:generate type="traversable" src="jcr://tasks"/>
        <map:serialize type="xml"/>
      </map:match>
    </map:pipeline>
  </map:pipelines>
</map:sitemap>
