<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<!--
  - Application context definition.
-->

<!-- Jeceira -->
<beans>

  <!-- The factory bean, which contains a method called
     createInstance -->
  <bean id="repositoryFactoryBean" class="org.springframework.beans.factory.config.MethodInvokingFactoryBean">
    <property name="staticMethod"><value>com.jeceira.repository.RepositoryFactory.getInstance</value></property>
  </bean>

  <!-- The bean to be created via the factory bean -->
  <bean id="repository" factory-bean="repositoryFactoryBean" factory-method="getRepository">
    <constructor-arg type="java.lang.String" index="0">
      <value>test</value>
    </constructor-arg>
  </bean>
      
</beans>

<!-- Jackrabbit 
<beans>
  <bean id="repository" class="org.apache.jackrabbit.core.RepositoryImpl" depends-on="repository-config">
    <constructor-arg><ref local="repository-config"/></constructor-arg>
  </bean>

  <bean id="repository-config" class="org.apache.jackrabbit.core.config.RepositoryConfig" factory-method="create">
    <constructor-arg type="java.lang.String" index="0">
      <value>src/repository.xml</value>
    </constructor-arg>
    <constructor-arg type="java.lang.String" index="1">
      <value>build/repotest</value>
    </constructor-arg>
  </bean>
</beans>
-->
